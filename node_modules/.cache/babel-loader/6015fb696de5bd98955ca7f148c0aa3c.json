{"ast":null,"code":"function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\n\nimport { defaults, hasXMLHttpRequest } from './utils.js';\nimport * as fetchNode from './getFetch.cjs';\nvar fetchApi;\n\nif (typeof fetch === 'function') {\n  if (typeof global !== 'undefined' && global.fetch) {\n    fetchApi = global.fetch;\n  } else if (typeof window !== 'undefined' && window.fetch) {\n    fetchApi = window.fetch;\n  } else {\n    fetchApi = fetch;\n  }\n}\n\nvar XmlHttpRequestApi;\n\nif (hasXMLHttpRequest()) {\n  if (typeof global !== 'undefined' && global.XMLHttpRequest) {\n    XmlHttpRequestApi = global.XMLHttpRequest;\n  } else if (typeof window !== 'undefined' && window.XMLHttpRequest) {\n    XmlHttpRequestApi = window.XMLHttpRequest;\n  }\n}\n\nvar ActiveXObjectApi;\n\nif (typeof ActiveXObject === 'function') {\n  if (typeof global !== 'undefined' && global.ActiveXObject) {\n    ActiveXObjectApi = global.ActiveXObject;\n  } else if (typeof window !== 'undefined' && window.ActiveXObject) {\n    ActiveXObjectApi = window.ActiveXObject;\n  }\n}\n\nif (!fetchApi && fetchNode && !XmlHttpRequestApi && !ActiveXObjectApi) fetchApi = fetchNode.default || fetchNode;\nif (typeof fetchApi !== 'function') fetchApi = undefined;\n\nvar addQueryString = function addQueryString(url, params) {\n  if (params && _typeof(params) === 'object') {\n    var queryString = '';\n\n    for (var paramName in params) {\n      queryString += '&' + encodeURIComponent(paramName) + '=' + encodeURIComponent(params[paramName]);\n    }\n\n    if (!queryString) return url;\n    url = url + (url.indexOf('?') !== -1 ? '&' : '?') + queryString.slice(1);\n  }\n\n  return url;\n};\n\nvar fetchIt = function fetchIt(url, fetchOptions, callback) {\n  var resolver = function resolver(response) {\n    if (!response.ok) return callback(response.statusText || 'Error', {\n      status: response.status\n    });\n    response.text().then(function (data) {\n      callback(null, {\n        status: response.status,\n        data: data\n      });\n    }).catch(callback);\n  };\n\n  if (typeof fetch === 'function') {\n    fetch(url, fetchOptions).then(resolver).catch(callback);\n  } else {\n    fetchApi(url, fetchOptions).then(resolver).catch(callback);\n  }\n};\n\nvar omitFetchOptions = false;\n\nvar requestWithFetch = function requestWithFetch(options, url, payload, callback) {\n  if (options.queryStringParams) {\n    url = addQueryString(url, options.queryStringParams);\n  }\n\n  var headers = defaults({}, typeof options.customHeaders === 'function' ? options.customHeaders() : options.customHeaders);\n\n  if (typeof window === 'undefined' && typeof global !== 'undefined' && typeof global.process !== 'undefined' && global.process.versions && global.process.versions.node) {\n    headers['User-Agent'] = \"i18next-http-backend (node/\".concat(global.process.version, \"; \").concat(global.process.platform, \" \").concat(global.process.arch, \")\");\n  }\n\n  if (payload) headers['Content-Type'] = 'application/json';\n  var reqOptions = typeof options.requestOptions === 'function' ? options.requestOptions(payload) : options.requestOptions;\n  var fetchOptions = defaults({\n    method: payload ? 'POST' : 'GET',\n    body: payload ? options.stringify(payload) : undefined,\n    headers: headers\n  }, omitFetchOptions ? {} : reqOptions);\n\n  try {\n    fetchIt(url, fetchOptions, callback);\n  } catch (e) {\n    if (!reqOptions || Object.keys(reqOptions).length === 0 || !e.message || e.message.indexOf('not implemented') < 0) {\n      return callback(e);\n    }\n\n    try {\n      Object.keys(reqOptions).forEach(function (opt) {\n        delete fetchOptions[opt];\n      });\n      fetchIt(url, fetchOptions, callback);\n      omitFetchOptions = true;\n    } catch (err) {\n      callback(err);\n    }\n  }\n};\n\nvar requestWithXmlHttpRequest = function requestWithXmlHttpRequest(options, url, payload, callback) {\n  if (payload && _typeof(payload) === 'object') {\n    payload = addQueryString('', payload).slice(1);\n  }\n\n  if (options.queryStringParams) {\n    url = addQueryString(url, options.queryStringParams);\n  }\n\n  try {\n    var x;\n\n    if (XmlHttpRequestApi) {\n      x = new XmlHttpRequestApi();\n    } else {\n      x = new ActiveXObjectApi('MSXML2.XMLHTTP.3.0');\n    }\n\n    x.open(payload ? 'POST' : 'GET', url, 1);\n\n    if (!options.crossDomain) {\n      x.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n    }\n\n    x.withCredentials = !!options.withCredentials;\n\n    if (payload) {\n      x.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n\n    if (x.overrideMimeType) {\n      x.overrideMimeType('application/json');\n    }\n\n    var h = options.customHeaders;\n    h = typeof h === 'function' ? h() : h;\n\n    if (h) {\n      for (var i in h) {\n        x.setRequestHeader(i, h[i]);\n      }\n    }\n\n    x.onreadystatechange = function () {\n      x.readyState > 3 && callback(x.status >= 400 ? x.statusText : null, {\n        status: x.status,\n        data: x.responseText\n      });\n    };\n\n    x.send(payload);\n  } catch (e) {\n    console && console.log(e);\n  }\n};\n\nvar request = function request(options, url, payload, callback) {\n  if (typeof payload === 'function') {\n    callback = payload;\n    payload = undefined;\n  }\n\n  callback = callback || function () {};\n\n  if (fetchApi && url.indexOf('file:') !== 0) {\n    return requestWithFetch(options, url, payload, callback);\n  }\n\n  if (hasXMLHttpRequest() || typeof ActiveXObject === 'function') {\n    return requestWithXmlHttpRequest(options, url, payload, callback);\n  }\n\n  callback(new Error('No fetch and no xhr implementation found!'));\n};\n\nexport default request;","map":{"version":3,"sources":["C:/Users/HP14EC0101NW/OneDrive/Рабочий стол/clone/Portfolio/node_modules/i18next-http-backend/esm/request.js"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","defaults","hasXMLHttpRequest","fetchNode","fetchApi","fetch","global","window","XmlHttpRequestApi","XMLHttpRequest","ActiveXObjectApi","ActiveXObject","default","undefined","addQueryString","url","params","queryString","paramName","encodeURIComponent","indexOf","slice","fetchIt","fetchOptions","callback","resolver","response","ok","statusText","status","text","then","data","catch","omitFetchOptions","requestWithFetch","options","payload","queryStringParams","headers","customHeaders","process","versions","node","concat","version","platform","arch","reqOptions","requestOptions","method","body","stringify","e","Object","keys","length","message","forEach","opt","err","requestWithXmlHttpRequest","x","open","crossDomain","setRequestHeader","withCredentials","overrideMimeType","h","i","onreadystatechange","readyState","responseText","send","console","log","request","Error"],"mappings":"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","sourcesContent":["function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nimport { defaults, hasXMLHttpRequest } from './utils.js';\nimport * as fetchNode from './getFetch.cjs';\nvar fetchApi;\nif (typeof fetch === 'function') {\n  if (typeof global !== 'undefined' && global.fetch) {\n    fetchApi = global.fetch;\n  } else if (typeof window !== 'undefined' && window.fetch) {\n    fetchApi = window.fetch;\n  } else {\n    fetchApi = fetch;\n  }\n}\nvar XmlHttpRequestApi;\nif (hasXMLHttpRequest()) {\n  if (typeof global !== 'undefined' && global.XMLHttpRequest) {\n    XmlHttpRequestApi = global.XMLHttpRequest;\n  } else if (typeof window !== 'undefined' && window.XMLHttpRequest) {\n    XmlHttpRequestApi = window.XMLHttpRequest;\n  }\n}\nvar ActiveXObjectApi;\nif (typeof ActiveXObject === 'function') {\n  if (typeof global !== 'undefined' && global.ActiveXObject) {\n    ActiveXObjectApi = global.ActiveXObject;\n  } else if (typeof window !== 'undefined' && window.ActiveXObject) {\n    ActiveXObjectApi = window.ActiveXObject;\n  }\n}\nif (!fetchApi && fetchNode && !XmlHttpRequestApi && !ActiveXObjectApi) fetchApi = fetchNode.default || fetchNode;\nif (typeof fetchApi !== 'function') fetchApi = undefined;\nvar addQueryString = function addQueryString(url, params) {\n  if (params && _typeof(params) === 'object') {\n    var queryString = '';\n    for (var paramName in params) {\n      queryString += '&' + encodeURIComponent(paramName) + '=' + encodeURIComponent(params[paramName]);\n    }\n    if (!queryString) return url;\n    url = url + (url.indexOf('?') !== -1 ? '&' : '?') + queryString.slice(1);\n  }\n  return url;\n};\nvar fetchIt = function fetchIt(url, fetchOptions, callback) {\n  var resolver = function resolver(response) {\n    if (!response.ok) return callback(response.statusText || 'Error', {\n      status: response.status\n    });\n    response.text().then(function (data) {\n      callback(null, {\n        status: response.status,\n        data: data\n      });\n    }).catch(callback);\n  };\n  if (typeof fetch === 'function') {\n    fetch(url, fetchOptions).then(resolver).catch(callback);\n  } else {\n    fetchApi(url, fetchOptions).then(resolver).catch(callback);\n  }\n};\nvar omitFetchOptions = false;\nvar requestWithFetch = function requestWithFetch(options, url, payload, callback) {\n  if (options.queryStringParams) {\n    url = addQueryString(url, options.queryStringParams);\n  }\n  var headers = defaults({}, typeof options.customHeaders === 'function' ? options.customHeaders() : options.customHeaders);\n  if (typeof window === 'undefined' && typeof global !== 'undefined' && typeof global.process !== 'undefined' && global.process.versions && global.process.versions.node) {\n    headers['User-Agent'] = \"i18next-http-backend (node/\".concat(global.process.version, \"; \").concat(global.process.platform, \" \").concat(global.process.arch, \")\");\n  }\n  if (payload) headers['Content-Type'] = 'application/json';\n  var reqOptions = typeof options.requestOptions === 'function' ? options.requestOptions(payload) : options.requestOptions;\n  var fetchOptions = defaults({\n    method: payload ? 'POST' : 'GET',\n    body: payload ? options.stringify(payload) : undefined,\n    headers: headers\n  }, omitFetchOptions ? {} : reqOptions);\n  try {\n    fetchIt(url, fetchOptions, callback);\n  } catch (e) {\n    if (!reqOptions || Object.keys(reqOptions).length === 0 || !e.message || e.message.indexOf('not implemented') < 0) {\n      return callback(e);\n    }\n    try {\n      Object.keys(reqOptions).forEach(function (opt) {\n        delete fetchOptions[opt];\n      });\n      fetchIt(url, fetchOptions, callback);\n      omitFetchOptions = true;\n    } catch (err) {\n      callback(err);\n    }\n  }\n};\nvar requestWithXmlHttpRequest = function requestWithXmlHttpRequest(options, url, payload, callback) {\n  if (payload && _typeof(payload) === 'object') {\n    payload = addQueryString('', payload).slice(1);\n  }\n  if (options.queryStringParams) {\n    url = addQueryString(url, options.queryStringParams);\n  }\n  try {\n    var x;\n    if (XmlHttpRequestApi) {\n      x = new XmlHttpRequestApi();\n    } else {\n      x = new ActiveXObjectApi('MSXML2.XMLHTTP.3.0');\n    }\n    x.open(payload ? 'POST' : 'GET', url, 1);\n    if (!options.crossDomain) {\n      x.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n    }\n    x.withCredentials = !!options.withCredentials;\n    if (payload) {\n      x.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    if (x.overrideMimeType) {\n      x.overrideMimeType('application/json');\n    }\n    var h = options.customHeaders;\n    h = typeof h === 'function' ? h() : h;\n    if (h) {\n      for (var i in h) {\n        x.setRequestHeader(i, h[i]);\n      }\n    }\n    x.onreadystatechange = function () {\n      x.readyState > 3 && callback(x.status >= 400 ? x.statusText : null, {\n        status: x.status,\n        data: x.responseText\n      });\n    };\n    x.send(payload);\n  } catch (e) {\n    console && console.log(e);\n  }\n};\nvar request = function request(options, url, payload, callback) {\n  if (typeof payload === 'function') {\n    callback = payload;\n    payload = undefined;\n  }\n  callback = callback || function () {};\n  if (fetchApi && url.indexOf('file:') !== 0) {\n    return requestWithFetch(options, url, payload, callback);\n  }\n  if (hasXMLHttpRequest() || typeof ActiveXObject === 'function') {\n    return requestWithXmlHttpRequest(options, url, payload, callback);\n  }\n  callback(new Error('No fetch and no xhr implementation found!'));\n};\nexport default request;"]},"metadata":{},"sourceType":"module"}