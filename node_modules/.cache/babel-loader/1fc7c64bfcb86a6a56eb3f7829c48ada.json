{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport React, { isValidElement, cloneElement, createElement, Children } from 'react';\nimport HTML from 'html-parse-stringify';\nimport { warn, warnOnce } from './utils.js';\nimport { getDefaults } from './defaults.js';\nimport { getI18n } from './i18nInstance.js';\n\nfunction hasChildren(node, checkLength) {\n  if (!node) return false;\n  const base = node.props ? node.props.children : node.children;\n  if (checkLength) return base.length > 0;\n  return !!base;\n}\n\nfunction getChildren(node) {\n  if (!node) return [];\n  const children = node.props ? node.props.children : node.children;\n  return node.props && node.props.i18nIsDynamicList ? getAsArray(children) : children;\n}\n\nfunction hasValidReactChildren(children) {\n  if (Object.prototype.toString.call(children) !== '[object Array]') return false;\n  return children.every(child => isValidElement(child));\n}\n\nfunction getAsArray(data) {\n  return Array.isArray(data) ? data : [data];\n}\n\nfunction mergeProps(source, target) {\n  const newTarget = { ...target\n  };\n  newTarget.props = Object.assign(source.props, target.props);\n  return newTarget;\n}\n\nexport function nodesToString(children, i18nOptions) {\n  if (!children) return '';\n  let stringNode = '';\n  const childrenArray = getAsArray(children);\n  const keepArray = i18nOptions.transSupportBasicHtmlNodes && i18nOptions.transKeepBasicHtmlNodesFor ? i18nOptions.transKeepBasicHtmlNodesFor : [];\n  childrenArray.forEach((child, childIndex) => {\n    if (typeof child === 'string') {\n      stringNode += `${child}`;\n    } else if (isValidElement(child)) {\n      const childPropsCount = Object.keys(child.props).length;\n      const shouldKeepChild = keepArray.indexOf(child.type) > -1;\n      const childChildren = child.props.children;\n\n      if (!childChildren && shouldKeepChild && childPropsCount === 0) {\n        stringNode += `<${child.type}/>`;\n      } else if (!childChildren && (!shouldKeepChild || childPropsCount !== 0)) {\n        stringNode += `<${childIndex}></${childIndex}>`;\n      } else if (child.props.i18nIsDynamicList) {\n        stringNode += `<${childIndex}></${childIndex}>`;\n      } else if (shouldKeepChild && childPropsCount === 1 && typeof childChildren === 'string') {\n        stringNode += `<${child.type}>${childChildren}</${child.type}>`;\n      } else {\n        const content = nodesToString(childChildren, i18nOptions);\n        stringNode += `<${childIndex}>${content}</${childIndex}>`;\n      }\n    } else if (child === null) {\n      warn(`Trans: the passed in value is invalid - seems you passed in a null child.`);\n    } else if (typeof child === 'object') {\n      const {\n        format,\n        ...clone\n      } = child;\n      const keys = Object.keys(clone);\n\n      if (keys.length === 1) {\n        const value = format ? `${keys[0]}, ${format}` : keys[0];\n        stringNode += `{{${value}}}`;\n      } else {\n        warn(`react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.`, child);\n      }\n    } else {\n      warn(`Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.`, child);\n    }\n  });\n  return stringNode;\n}\n\nfunction renderNodes(children, targetString, i18n, i18nOptions, combinedTOpts, shouldUnescape) {\n  if (targetString === '') return [];\n  const keepArray = i18nOptions.transKeepBasicHtmlNodesFor || [];\n  const emptyChildrenButNeedsHandling = targetString && new RegExp(keepArray.map(keep => `<${keep}`).join('|')).test(targetString);\n  if (!children && !emptyChildrenButNeedsHandling && !shouldUnescape) return [targetString];\n  const data = {};\n\n  function getData(childs) {\n    const childrenArray = getAsArray(childs);\n    childrenArray.forEach(child => {\n      if (typeof child === 'string') return;\n      if (hasChildren(child)) getData(getChildren(child));else if (typeof child === 'object' && !isValidElement(child)) Object.assign(data, child);\n    });\n  }\n\n  getData(children);\n  const ast = HTML.parse(`<0>${targetString}</0>`);\n  const opts = { ...data,\n    ...combinedTOpts\n  };\n\n  function renderInner(child, node, rootReactNode) {\n    const childs = getChildren(child);\n    const mappedChildren = mapAST(childs, node.children, rootReactNode);\n    return hasValidReactChildren(childs) && mappedChildren.length === 0 || child.props && child.props.i18nIsDynamicList ? childs : mappedChildren;\n  }\n\n  function pushTranslatedJSX(child, inner, mem, i, isVoid) {\n    if (child.dummy) {\n      child.children = inner;\n      mem.push(cloneElement(child, {\n        key: i\n      }, isVoid ? undefined : inner));\n    } else {\n      mem.push(...Children.map([child], c => {\n        const props = { ...c.props\n        };\n        delete props.i18nIsDynamicList;\n        return React.createElement(c.type, _extends({}, props, {\n          key: i,\n          ref: c.ref\n        }, isVoid ? {} : {\n          children: inner\n        }));\n      }));\n    }\n  }\n\n  function mapAST(reactNode, astNode, rootReactNode) {\n    const reactNodes = getAsArray(reactNode);\n    const astNodes = getAsArray(astNode);\n    return astNodes.reduce((mem, node, i) => {\n      const translationContent = node.children && node.children[0] && node.children[0].content && i18n.services.interpolator.interpolate(node.children[0].content, opts, i18n.language);\n\n      if (node.type === 'tag') {\n        let tmp = reactNodes[parseInt(node.name, 10)];\n        if (rootReactNode.length === 1 && !tmp) tmp = rootReactNode[0][node.name];\n        if (!tmp) tmp = {};\n        const child = Object.keys(node.attrs).length !== 0 ? mergeProps({\n          props: node.attrs\n        }, tmp) : tmp;\n        const isElement = isValidElement(child);\n        const isValidTranslationWithChildren = isElement && hasChildren(node, true) && !node.voidElement;\n        const isEmptyTransWithHTML = emptyChildrenButNeedsHandling && typeof child === 'object' && child.dummy && !isElement;\n        const isKnownComponent = typeof children === 'object' && children !== null && Object.hasOwnProperty.call(children, node.name);\n\n        if (typeof child === 'string') {\n          const value = i18n.services.interpolator.interpolate(child, opts, i18n.language);\n          mem.push(value);\n        } else if (hasChildren(child) || isValidTranslationWithChildren) {\n          const inner = renderInner(child, node, rootReactNode);\n          pushTranslatedJSX(child, inner, mem, i);\n        } else if (isEmptyTransWithHTML) {\n          const inner = mapAST(reactNodes, node.children, rootReactNode);\n          pushTranslatedJSX(child, inner, mem, i);\n        } else if (Number.isNaN(parseFloat(node.name))) {\n          if (isKnownComponent) {\n            const inner = renderInner(child, node, rootReactNode);\n            pushTranslatedJSX(child, inner, mem, i, node.voidElement);\n          } else if (i18nOptions.transSupportBasicHtmlNodes && keepArray.indexOf(node.name) > -1) {\n            if (node.voidElement) {\n              mem.push(createElement(node.name, {\n                key: `${node.name}-${i}`\n              }));\n            } else {\n              const inner = mapAST(reactNodes, node.children, rootReactNode);\n              mem.push(createElement(node.name, {\n                key: `${node.name}-${i}`\n              }, inner));\n            }\n          } else if (node.voidElement) {\n            mem.push(`<${node.name} />`);\n          } else {\n            const inner = mapAST(reactNodes, node.children, rootReactNode);\n            mem.push(`<${node.name}>${inner}</${node.name}>`);\n          }\n        } else if (typeof child === 'object' && !isElement) {\n          const content = node.children[0] ? translationContent : null;\n          if (content) mem.push(content);\n        } else {\n          pushTranslatedJSX(child, translationContent, mem, i, node.children.length !== 1 || !translationContent);\n        }\n      } else if (node.type === 'text') {\n        const wrapTextNodes = i18nOptions.transWrapTextNodes;\n        const content = shouldUnescape ? i18nOptions.unescape(i18n.services.interpolator.interpolate(node.content, opts, i18n.language)) : i18n.services.interpolator.interpolate(node.content, opts, i18n.language);\n\n        if (wrapTextNodes) {\n          mem.push(createElement(wrapTextNodes, {\n            key: `${node.name}-${i}`\n          }, content));\n        } else {\n          mem.push(content);\n        }\n      }\n\n      return mem;\n    }, []);\n  }\n\n  const result = mapAST([{\n    dummy: true,\n    children: children || []\n  }], ast, getAsArray(children || []));\n  return getChildren(result[0]);\n}\n\nexport function Trans(_ref) {\n  let {\n    children,\n    count,\n    parent,\n    i18nKey,\n    context,\n    tOptions = {},\n    values,\n    defaults,\n    components,\n    ns,\n    i18n: i18nFromProps,\n    t: tFromProps,\n    shouldUnescape,\n    ...additionalProps\n  } = _ref;\n  const i18n = i18nFromProps || getI18n();\n\n  if (!i18n) {\n    warnOnce('You will need to pass in an i18next instance by using i18nextReactModule');\n    return children;\n  }\n\n  const t = tFromProps || i18n.t.bind(i18n) || (k => k);\n\n  if (context) tOptions.context = context;\n  const reactI18nextOptions = { ...getDefaults(),\n    ...(i18n.options && i18n.options.react)\n  };\n  let namespaces = ns || t.ns || i18n.options && i18n.options.defaultNS;\n  namespaces = typeof namespaces === 'string' ? [namespaces] : namespaces || ['translation'];\n  const nodeAsString = nodesToString(children, reactI18nextOptions);\n  const defaultValue = defaults || nodeAsString || reactI18nextOptions.transEmptyNodeValue || i18nKey;\n  const {\n    hashTransKey\n  } = reactI18nextOptions;\n  const key = i18nKey || (hashTransKey ? hashTransKey(nodeAsString || defaultValue) : nodeAsString || defaultValue);\n\n  if (i18n.options && i18n.options.interpolation && i18n.options.interpolation.defaultVariables) {\n    values = values && Object.keys(values).length > 0 ? { ...values,\n      ...i18n.options.interpolation.defaultVariables\n    } : { ...i18n.options.interpolation.defaultVariables\n    };\n  }\n\n  const interpolationOverride = values ? tOptions.interpolation : {\n    interpolation: { ...tOptions.interpolation,\n      prefix: '#$?',\n      suffix: '?$#'\n    }\n  };\n  const combinedTOpts = { ...tOptions,\n    count,\n    ...values,\n    ...interpolationOverride,\n    defaultValue,\n    ns: namespaces\n  };\n  const translation = key ? t(key, combinedTOpts) : defaultValue;\n\n  if (components) {\n    Object.keys(components).forEach(c => {\n      const comp = components[c];\n      if (typeof comp.type === 'function' || !comp.props || !comp.props.children || translation.indexOf(`${c}/>`) < 0 && translation.indexOf(`${c} />`) < 0) return;\n\n      function Componentized() {\n        return React.createElement(React.Fragment, null, comp);\n      }\n\n      components[c] = React.createElement(Componentized, null);\n    });\n  }\n\n  const content = renderNodes(components || children, translation, i18n, reactI18nextOptions, combinedTOpts, shouldUnescape);\n  const useAsParent = parent !== undefined ? parent : reactI18nextOptions.defaultTransParent;\n  return useAsParent ? createElement(useAsParent, additionalProps, content) : content;\n}","map":{"version":3,"sources":["C:/Users/HP14EC0101NW/OneDrive/Рабочий стол/clone/Portfolio/node_modules/react-i18next/dist/es/TransWithoutContext.js"],"names":["_extends","React","isValidElement","cloneElement","createElement","Children","HTML","warn","warnOnce","getDefaults","getI18n","hasChildren","node","checkLength","base","props","children","length","getChildren","i18nIsDynamicList","getAsArray","hasValidReactChildren","Object","prototype","toString","call","every","child","data","Array","isArray","mergeProps","source","target","newTarget","assign","nodesToString","i18nOptions","stringNode","childrenArray","keepArray","transSupportBasicHtmlNodes","transKeepBasicHtmlNodesFor","forEach","childIndex","childPropsCount","keys","shouldKeepChild","indexOf","type","childChildren","content","format","clone","value","renderNodes","targetString","i18n","combinedTOpts","shouldUnescape","emptyChildrenButNeedsHandling","RegExp","map","keep","join","test","getData","childs","ast","parse","opts","renderInner","rootReactNode","mappedChildren","mapAST","pushTranslatedJSX","inner","mem","i","isVoid","dummy","push","key","undefined","c","ref","reactNode","astNode","reactNodes","astNodes","reduce","translationContent","services","interpolator","interpolate","language","tmp","parseInt","name","attrs","isElement","isValidTranslationWithChildren","voidElement","isEmptyTransWithHTML","isKnownComponent","hasOwnProperty","Number","isNaN","parseFloat","wrapTextNodes","transWrapTextNodes","unescape","result","Trans","_ref","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18nFromProps","t","tFromProps","additionalProps","bind","k","reactI18nextOptions","options","react","namespaces","defaultNS","nodeAsString","defaultValue","transEmptyNodeValue","hashTransKey","interpolation","defaultVariables","interpolationOverride","prefix","suffix","translation","comp","Componentized","Fragment","useAsParent","defaultTransParent"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport React, { isValidElement, cloneElement, createElement, Children } from 'react';\nimport HTML from 'html-parse-stringify';\nimport { warn, warnOnce } from './utils.js';\nimport { getDefaults } from './defaults.js';\nimport { getI18n } from './i18nInstance.js';\nfunction hasChildren(node, checkLength) {\n  if (!node) return false;\n  const base = node.props ? node.props.children : node.children;\n  if (checkLength) return base.length > 0;\n  return !!base;\n}\nfunction getChildren(node) {\n  if (!node) return [];\n  const children = node.props ? node.props.children : node.children;\n  return node.props && node.props.i18nIsDynamicList ? getAsArray(children) : children;\n}\nfunction hasValidReactChildren(children) {\n  if (Object.prototype.toString.call(children) !== '[object Array]') return false;\n  return children.every(child => isValidElement(child));\n}\nfunction getAsArray(data) {\n  return Array.isArray(data) ? data : [data];\n}\nfunction mergeProps(source, target) {\n  const newTarget = {\n    ...target\n  };\n  newTarget.props = Object.assign(source.props, target.props);\n  return newTarget;\n}\nexport function nodesToString(children, i18nOptions) {\n  if (!children) return '';\n  let stringNode = '';\n  const childrenArray = getAsArray(children);\n  const keepArray = i18nOptions.transSupportBasicHtmlNodes && i18nOptions.transKeepBasicHtmlNodesFor ? i18nOptions.transKeepBasicHtmlNodesFor : [];\n  childrenArray.forEach((child, childIndex) => {\n    if (typeof child === 'string') {\n      stringNode += `${child}`;\n    } else if (isValidElement(child)) {\n      const childPropsCount = Object.keys(child.props).length;\n      const shouldKeepChild = keepArray.indexOf(child.type) > -1;\n      const childChildren = child.props.children;\n      if (!childChildren && shouldKeepChild && childPropsCount === 0) {\n        stringNode += `<${child.type}/>`;\n      } else if (!childChildren && (!shouldKeepChild || childPropsCount !== 0)) {\n        stringNode += `<${childIndex}></${childIndex}>`;\n      } else if (child.props.i18nIsDynamicList) {\n        stringNode += `<${childIndex}></${childIndex}>`;\n      } else if (shouldKeepChild && childPropsCount === 1 && typeof childChildren === 'string') {\n        stringNode += `<${child.type}>${childChildren}</${child.type}>`;\n      } else {\n        const content = nodesToString(childChildren, i18nOptions);\n        stringNode += `<${childIndex}>${content}</${childIndex}>`;\n      }\n    } else if (child === null) {\n      warn(`Trans: the passed in value is invalid - seems you passed in a null child.`);\n    } else if (typeof child === 'object') {\n      const {\n        format,\n        ...clone\n      } = child;\n      const keys = Object.keys(clone);\n      if (keys.length === 1) {\n        const value = format ? `${keys[0]}, ${format}` : keys[0];\n        stringNode += `{{${value}}}`;\n      } else {\n        warn(`react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.`, child);\n      }\n    } else {\n      warn(`Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.`, child);\n    }\n  });\n  return stringNode;\n}\nfunction renderNodes(children, targetString, i18n, i18nOptions, combinedTOpts, shouldUnescape) {\n  if (targetString === '') return [];\n  const keepArray = i18nOptions.transKeepBasicHtmlNodesFor || [];\n  const emptyChildrenButNeedsHandling = targetString && new RegExp(keepArray.map(keep => `<${keep}`).join('|')).test(targetString);\n  if (!children && !emptyChildrenButNeedsHandling && !shouldUnescape) return [targetString];\n  const data = {};\n  function getData(childs) {\n    const childrenArray = getAsArray(childs);\n    childrenArray.forEach(child => {\n      if (typeof child === 'string') return;\n      if (hasChildren(child)) getData(getChildren(child));else if (typeof child === 'object' && !isValidElement(child)) Object.assign(data, child);\n    });\n  }\n  getData(children);\n  const ast = HTML.parse(`<0>${targetString}</0>`);\n  const opts = {\n    ...data,\n    ...combinedTOpts\n  };\n  function renderInner(child, node, rootReactNode) {\n    const childs = getChildren(child);\n    const mappedChildren = mapAST(childs, node.children, rootReactNode);\n    return hasValidReactChildren(childs) && mappedChildren.length === 0 || child.props && child.props.i18nIsDynamicList ? childs : mappedChildren;\n  }\n  function pushTranslatedJSX(child, inner, mem, i, isVoid) {\n    if (child.dummy) {\n      child.children = inner;\n      mem.push(cloneElement(child, {\n        key: i\n      }, isVoid ? undefined : inner));\n    } else {\n      mem.push(...Children.map([child], c => {\n        const props = {\n          ...c.props\n        };\n        delete props.i18nIsDynamicList;\n        return React.createElement(c.type, _extends({}, props, {\n          key: i,\n          ref: c.ref\n        }, isVoid ? {} : {\n          children: inner\n        }));\n      }));\n    }\n  }\n  function mapAST(reactNode, astNode, rootReactNode) {\n    const reactNodes = getAsArray(reactNode);\n    const astNodes = getAsArray(astNode);\n    return astNodes.reduce((mem, node, i) => {\n      const translationContent = node.children && node.children[0] && node.children[0].content && i18n.services.interpolator.interpolate(node.children[0].content, opts, i18n.language);\n      if (node.type === 'tag') {\n        let tmp = reactNodes[parseInt(node.name, 10)];\n        if (rootReactNode.length === 1 && !tmp) tmp = rootReactNode[0][node.name];\n        if (!tmp) tmp = {};\n        const child = Object.keys(node.attrs).length !== 0 ? mergeProps({\n          props: node.attrs\n        }, tmp) : tmp;\n        const isElement = isValidElement(child);\n        const isValidTranslationWithChildren = isElement && hasChildren(node, true) && !node.voidElement;\n        const isEmptyTransWithHTML = emptyChildrenButNeedsHandling && typeof child === 'object' && child.dummy && !isElement;\n        const isKnownComponent = typeof children === 'object' && children !== null && Object.hasOwnProperty.call(children, node.name);\n        if (typeof child === 'string') {\n          const value = i18n.services.interpolator.interpolate(child, opts, i18n.language);\n          mem.push(value);\n        } else if (hasChildren(child) || isValidTranslationWithChildren) {\n          const inner = renderInner(child, node, rootReactNode);\n          pushTranslatedJSX(child, inner, mem, i);\n        } else if (isEmptyTransWithHTML) {\n          const inner = mapAST(reactNodes, node.children, rootReactNode);\n          pushTranslatedJSX(child, inner, mem, i);\n        } else if (Number.isNaN(parseFloat(node.name))) {\n          if (isKnownComponent) {\n            const inner = renderInner(child, node, rootReactNode);\n            pushTranslatedJSX(child, inner, mem, i, node.voidElement);\n          } else if (i18nOptions.transSupportBasicHtmlNodes && keepArray.indexOf(node.name) > -1) {\n            if (node.voidElement) {\n              mem.push(createElement(node.name, {\n                key: `${node.name}-${i}`\n              }));\n            } else {\n              const inner = mapAST(reactNodes, node.children, rootReactNode);\n              mem.push(createElement(node.name, {\n                key: `${node.name}-${i}`\n              }, inner));\n            }\n          } else if (node.voidElement) {\n            mem.push(`<${node.name} />`);\n          } else {\n            const inner = mapAST(reactNodes, node.children, rootReactNode);\n            mem.push(`<${node.name}>${inner}</${node.name}>`);\n          }\n        } else if (typeof child === 'object' && !isElement) {\n          const content = node.children[0] ? translationContent : null;\n          if (content) mem.push(content);\n        } else {\n          pushTranslatedJSX(child, translationContent, mem, i, node.children.length !== 1 || !translationContent);\n        }\n      } else if (node.type === 'text') {\n        const wrapTextNodes = i18nOptions.transWrapTextNodes;\n        const content = shouldUnescape ? i18nOptions.unescape(i18n.services.interpolator.interpolate(node.content, opts, i18n.language)) : i18n.services.interpolator.interpolate(node.content, opts, i18n.language);\n        if (wrapTextNodes) {\n          mem.push(createElement(wrapTextNodes, {\n            key: `${node.name}-${i}`\n          }, content));\n        } else {\n          mem.push(content);\n        }\n      }\n      return mem;\n    }, []);\n  }\n  const result = mapAST([{\n    dummy: true,\n    children: children || []\n  }], ast, getAsArray(children || []));\n  return getChildren(result[0]);\n}\nexport function Trans(_ref) {\n  let {\n    children,\n    count,\n    parent,\n    i18nKey,\n    context,\n    tOptions = {},\n    values,\n    defaults,\n    components,\n    ns,\n    i18n: i18nFromProps,\n    t: tFromProps,\n    shouldUnescape,\n    ...additionalProps\n  } = _ref;\n  const i18n = i18nFromProps || getI18n();\n  if (!i18n) {\n    warnOnce('You will need to pass in an i18next instance by using i18nextReactModule');\n    return children;\n  }\n  const t = tFromProps || i18n.t.bind(i18n) || (k => k);\n  if (context) tOptions.context = context;\n  const reactI18nextOptions = {\n    ...getDefaults(),\n    ...(i18n.options && i18n.options.react)\n  };\n  let namespaces = ns || t.ns || i18n.options && i18n.options.defaultNS;\n  namespaces = typeof namespaces === 'string' ? [namespaces] : namespaces || ['translation'];\n  const nodeAsString = nodesToString(children, reactI18nextOptions);\n  const defaultValue = defaults || nodeAsString || reactI18nextOptions.transEmptyNodeValue || i18nKey;\n  const {\n    hashTransKey\n  } = reactI18nextOptions;\n  const key = i18nKey || (hashTransKey ? hashTransKey(nodeAsString || defaultValue) : nodeAsString || defaultValue);\n  if (i18n.options && i18n.options.interpolation && i18n.options.interpolation.defaultVariables) {\n    values = values && Object.keys(values).length > 0 ? {\n      ...values,\n      ...i18n.options.interpolation.defaultVariables\n    } : {\n      ...i18n.options.interpolation.defaultVariables\n    };\n  }\n  const interpolationOverride = values ? tOptions.interpolation : {\n    interpolation: {\n      ...tOptions.interpolation,\n      prefix: '#$?',\n      suffix: '?$#'\n    }\n  };\n  const combinedTOpts = {\n    ...tOptions,\n    count,\n    ...values,\n    ...interpolationOverride,\n    defaultValue,\n    ns: namespaces\n  };\n  const translation = key ? t(key, combinedTOpts) : defaultValue;\n  if (components) {\n    Object.keys(components).forEach(c => {\n      const comp = components[c];\n      if (typeof comp.type === 'function' || !comp.props || !comp.props.children || translation.indexOf(`${c}/>`) < 0 && translation.indexOf(`${c} />`) < 0) return;\n      function Componentized() {\n        return React.createElement(React.Fragment, null, comp);\n      }\n      components[c] = React.createElement(Componentized, null);\n    });\n  }\n  const content = renderNodes(components || children, translation, i18n, reactI18nextOptions, combinedTOpts, shouldUnescape);\n  const useAsParent = parent !== undefined ? parent : reactI18nextOptions.defaultTransParent;\n  return useAsParent ? createElement(useAsParent, additionalProps, content) : content;\n}"]},"metadata":{},"sourceType":"module"}